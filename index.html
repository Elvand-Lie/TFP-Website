<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE FULL PICTURE | Ancient Wisdom, Modern Strategy</title>
    <meta name="description" content="Unlock your potential with The Full Picture. We combine Feng Shui, Leadership Training, and Ikigai to help you create your path and achieve success. Singapore's premier consultancy.">
    <meta name="keywords" content="Feng Shui, Leadership Training, Ikigai, Corporate Strategy, Bazi Analysis, Jose He, Singapore">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Montserrat:wght@400;500;600;700;800;900&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* --- DESIGN TOKENS --- */
        :root {
            --burgundy: #800020;
            --wood: #C19A6B;
            --gold: #D4AF37;
            --white: #ffffff;
            --black: #020408;
            --container-width: 1400px;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-color: var(--black);
            color: var(--white);
            font-family: 'Lato', sans-serif;
            overflow-x: hidden;
            width: 100%;
        }

        /* --- 1. HERO VIDEO BACKGROUND --- */
        .hero-video-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -2;
            overflow: hidden;
        }
        .hero-video-bg video {
            width: 100%; height: 100%; object-fit: cover;
            opacity: 0.1; /* Dimmed atmosphere */
            filter: grayscale(100%) contrast(1.2);
        }

        /* --- 2. TUNNEL BEAM ENGINE --- */
        .tunnel-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; pointer-events: none;
            overflow: hidden;
        }

        .tunnel-light {
            position: absolute;
            top: 50%; left: 50%;
            width: 100vw; height: 100vw;
            background: radial-gradient(circle, #ffffff 0%, #f0f0f0 25%, rgba(255,255,255,0.9) 35%, rgba(0,0,0,0) 55%);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0.2);
            opacity: 0.2;
            will-change: transform, opacity;
        }

        .noise {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 1; opacity: 0.06;
            background-image: url("https://grainy-gradients.vercel.app/noise.svg");
        }

        /* --- UTILITIES --- */
        .container {
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 0 2rem;
            position: relative; z-index: 5;
        }

        h1, h2, h3, h4, .btn { font-family: 'Montserrat', sans-serif; text-transform: uppercase; }
        .serif { font-family: 'Playfair Display', serif; font-style: italic; }
        
        /* --- NAV --- */
        nav {
            position: fixed; top: 0; left: 0; width: 100%; padding: 2rem 0; z-index: 9600; 
            mix-blend-mode: difference; color: white;
        }
        .nav-inner { display: flex; justify-content: space-between; align-items: center; max-width: var(--container-width); margin: 0 auto; padding: 0 2rem; }
        .logo { font-weight: 900; font-family: 'Montserrat'; color: white; cursor: pointer; text-decoration: none; }

        /* --- MENU TRIGGER ANIMATION --- */
        .menu-trigger {
            cursor: pointer;
            display: flex; align-items: center; gap: 10px;
            font-family: 'Montserrat'; font-weight: 700; font-size: 0.8rem; letter-spacing: 1px;
        }
        .burger {
            width: 30px; height: 10px;
            position: relative;
            display: flex; flex-direction: column; justify-content: space-between;
        }
        .burger span {
            display: block; width: 100%; height: 2px; background: white;
            transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        }
        /* Active State for Burger */
        .menu-trigger.active .burger span:nth-child(1) { transform: rotate(45deg) translate(5px, 5px); }
        .menu-trigger.active .burger span:nth-child(2) { opacity: 0; }
        .menu-trigger.active .burger span:nth-child(3) { transform: rotate(-45deg) translate(5px, -5px); }

        /* --- MENU OVERLAY --- */
        .menu-overlay {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: #080808; z-index: 9500;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transform: translateY(-100%); transition: transform 0.8s cubic-bezier(0.65, 0, 0.35, 1);
        }
        .menu-overlay.active { transform: translateY(0); }
        
        .menu-link {
            font-family: 'Montserrat'; font-size: 3.5rem; color: rgba(255,255,255,0.3);
            text-decoration: none; margin: 0.5rem 0; transition: 0.3s; 
            font-weight: 900; letter-spacing: -1px; position: relative;
            /* Stagger Animation Setup */
            opacity: 0; transform: translateY(40px); transition: opacity 0.5s ease, transform 0.5s ease, color 0.3s;
        }
        .menu-link:hover { color: white; letter-spacing: 0px; }
        
        /* Stagger Delays when Active */
        .menu-overlay.active .menu-link { opacity: 1; transform: translateY(0); }
        .menu-overlay.active .menu-link:nth-child(1) { transition-delay: 0.3s; }
        .menu-overlay.active .menu-link:nth-child(2) { transition-delay: 0.4s; }
        .menu-overlay.active .menu-link:nth-child(3) { transition-delay: 0.5s; }
        .menu-overlay.active .menu-link:nth-child(4) { transition-delay: 0.6s; }
        .menu-overlay.active .menu-link:nth-child(5) { transition-delay: 0.7s; }
        .menu-overlay.active .menu-link:nth-child(6) { transition-delay: 0.8s; }
        .menu-overlay.active .menu-link:nth-child(7) { transition-delay: 0.9s; }

        /* --- LANGUAGE FADE ANIMATION --- */
        /* This class is added to body during switch */
        body.lang-fading [data-lang] {
            opacity: 0;
            transform: translateY(5px);
        }
        [data-lang] {
            transition: opacity 0.4s ease, transform 0.4s ease;
        }

        /* --- HERO --- */
        .hero {
            min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
            text-align: center; padding: 100px 0; color: white; 
        }
        .hero-title { 
            font-size: clamp(3rem, 8vw, 9rem); 
            line-height: 0.9; margin-bottom: 2rem; font-weight: 900; letter-spacing: -3px; 
            text-shadow: 0 10px 30px rgba(0,0,0,0.8);
        }
        .hero-desc { 
            font-size: 1.5rem; line-height: 1.5; margin-bottom: 3rem; color: #ddd; 
            text-shadow: 0 5px 15px rgba(0,0,0,0.8);
        }
        .btn { padding: 1.2rem 3rem; font-weight: 700; font-size: 0.8rem; letter-spacing: 2px; transition: 0.3s; text-decoration: none; border-radius: 2px; display: inline-block;}
        .btn-primary { background: white; color: black; border: 1px solid white; }
        .btn-primary:hover { background: transparent; color: white; }
        .btn-outline { border: 1px solid rgba(255,255,255,0.4); color: white; margin-left: 20px; }
        .btn-outline:hover { border-color: white; }

        /* --- 1ST BODY --- */
        .philosophy-section { padding: 10rem 0; text-align: center; color: white; }
        
        /* --- ATLAS SECTION --- */
        .atlas-section { padding: 12rem 0; text-align: center; position: relative; color: black; }
        .light-mode-heading { color: black; font-weight: 900; letter-spacing: -1px; font-size: 4rem; }
        .light-mode-tag { color: var(--burgundy); font-weight: 700; letter-spacing: 2px; display: block; margin-bottom: 1rem; }
        .light-mode-p { color: #222; font-size: 1.4rem; line-height: 1.6; max-width: 700px; margin: 0 auto; font-weight: 500; }

        /* --- ATLAS TACTICAL MAP --- */
        .atlas-visual {
            width: 100%; height: 500px; margin: 3rem 0;
            background-color: #f4f4f4;
            background-image: 
                linear-gradient(#ddd 1px, transparent 1px), 
                linear-gradient(90deg, #ddd 1px, transparent 1px);
            background-size: 50px 50px;
            border: 1px solid #ccc;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.05);
        }

        .atlas-svg-layer {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 1;
        }
        .atlas-path {
            fill: none;
            stroke: var(--burgundy);
            stroke-width: 2px;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            transition: stroke-dashoffset 2s ease-out;
        }

        .atlas-node {
            position: absolute;
            width: 12px; height: 12px;
            background: var(--black);
            border: 2px solid white;
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            z-index: 2;
        }
        .atlas-node.active { transform: translate(-50%, -50%) scale(1); }
        .atlas-node.pulse::after {
            content: ''; position: absolute; top: 50%; left: 50%;
            width: 100%; height: 100%; border-radius: 50%;
            background: var(--burgundy); opacity: 0.6;
            transform: translate(-50%, -50%) scale(1);
            animation: nodePulse 1.5s infinite;
        }

        .atlas-card {
            position: absolute;
            background: white;
            padding: 1.5rem;
            width: 280px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border-left: 4px solid var(--gold);
            z-index: 10;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
            pointer-events: none;
            text-align: left;
        }
        .atlas-card.visible { opacity: 1; transform: translateY(0); }
        .atlas-card h4 { font-size: 0.8rem; color: #999; margin-bottom: 0.5rem; letter-spacing: 1px; text-transform: uppercase; font-family: 'Montserrat'; }
        .atlas-card h3 { font-size: 1.2rem; font-weight: 800; color: var(--black); margin-bottom: 0.5rem; line-height: 1.2; font-family: 'Montserrat'; }
        .atlas-card p { font-size: 0.85rem; color: #555; font-family: 'Lato'; line-height: 1.4; }

        .atlas-coords {
            position: absolute; bottom: 10px; right: 15px;
            font-family: 'Courier New', monospace; font-weight: 700;
            color: var(--burgundy); font-size: 0.8rem;
            background: rgba(255,255,255,0.8); padding: 2px 5px;
            z-index: 5;
        }

        @keyframes nodePulse {
            0% { transform: translate(-50%, -50%) scale(1); opacity: 0.6; }
            100% { transform: translate(-50%, -50%) scale(3); opacity: 0; }
        }


        /* --- JOSE'S PATH --- */
        .split-section { padding: 5rem 0; position: relative; z-index: 10; color: black; }
        .split-grid { display: grid; grid-template-columns: minmax(0, 3.5fr) minmax(0, 6.5fr); gap: 6rem; position: relative; }
        .sticky-col { position: sticky; top: 15vh; height: auto; align-self: start; }
        .sticky-name { font-size: clamp(2.5rem, 5vw, 4rem); line-height: 1; margin-bottom: 2rem; color: black; text-shadow: none; width: 100%; }
        
        .img-frame { width: 100%; height: auto; aspect-ratio: 3/4; max-height: 55vh; position: relative; overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.1); background: #eee; }
        .img-frame img { width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; transition: opacity 0.8s ease, transform 1s ease; opacity: 0; transform: scale(1.1); }
        .img-frame img.active { opacity: 1; transform: scale(1); }

        .scroll-col { padding-top: 2rem; padding-bottom: 5rem; }
        .story-block { min-height: 70vh; display: flex; flex-direction: column; justify-content: center; opacity: 0.2; transition: opacity 0.5s; transform: translateY(20px); }
        .story-block.active { opacity: 1; transform: translateY(0); }
        .story-head { font-size: 2.5rem; color: #000; font-weight: 800; margin-bottom: 1.5rem; }
        .story-text { font-size: 1.3rem; line-height: 1.8; margin-bottom: 2rem; font-family: 'Lato'; font-weight: 400; color: #444; }

        .btn-light-mode { background: var(--burgundy); color: white; border: 1px solid var(--burgundy); }
        .btn-light-mode:hover { background: transparent; color: var(--burgundy); }

        /* --- HELP & REVIEWS --- */
        .help-section { padding: 10rem 0; text-align: center; color: black; }
        .help-title { font-size: 5rem; margin-bottom: 2rem; color: black; letter-spacing: -2px; font-weight: 900; }
        .reviews-section { padding-bottom: 8rem; color: black; }
        .reviews-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; }
        .review-card { padding: 2.5rem; background: #f9f9f9; border-left: 4px solid var(--burgundy); }
        .review-text { font-style: italic; color: #555; margin-bottom: 1.5rem; font-size: 1.1rem; line-height: 1.6; }
        .review-author { font-weight: 700; color: var(--black); font-size: 0.9rem; font-family: 'Montserrat'; }

        /* --- FOOTER --- */
        footer { background: #111; color: white; padding: 5rem 0; text-align: center; position: relative; z-index: 10; }
        .footer-logo { font-family: 'Montserrat'; font-weight: 900; font-size: 2rem; margin-bottom: 1rem; display: block; color: white; }
        .footer-copy { color: #666; font-size: 0.8rem; }

        /* Media Queries */
        @media (max-width: 1300px) {
            .split-grid { gap: 3rem; }
            .sticky-col { height: auto; }
        }
        @media (max-width: 1024px) {
            .split-grid { grid-template-columns: 1fr; }
            .sticky-col { position: relative; top: 0; height: auto; margin-bottom: 3rem; }
            .story-block { min-height: auto; margin-bottom: 5rem; opacity: 1; }
            .hero-title { font-size: 3.5rem; }
            .btn-group { flex-direction: column; gap: 1rem; }
            .btn-outline { margin-left: 0; }
            .atlas-card { width: 80%; left: 50% !important; transform: translateX(-50%) translateY(20px) !important; top: 60% !important; }
            .atlas-card.visible { transform: translateX(-50%) translateY(0) !important; }
        }
    </style>
</head>
<body>

    <div class="hero-video-bg">
        <video autoplay muted loop playsinline poster="https://images.unsplash.com/photo-1552664730-d307ca884978?q=80&w=2070">
            <source src="https://videos.pexels.com/video-files/3196344/3196344-hd_1920_1080_25fps.mp4" type="video/mp4">
        </video>
    </div>

    <div class="tunnel-container">
        <div class="tunnel-light" id="tunnelLight"></div>
    </div>
    <div class="noise"></div>

    <div class="menu-overlay" id="menuOverlay">
        <a href="index.html" class="menu-link hover-target" onclick="toggleMenu()" data-lang="menu_home">HOME</a>
        <a href="about.html" class="menu-link hover-target" onclick="toggleMenu()" data-lang="menu_about">ABOUT</a>
        <a href="services.html" class="menu-link hover-target" onclick="toggleMenu()" data-lang="menu_services">SERVICES</a>
        <a href="mission.html" class="menu-link hover-target" onclick="toggleMenu()" data-lang="menu_mission">MISSION</a>
        <a href="portfolio.html" class="menu-link hover-target" onclick="toggleMenu()" data-lang="menu_portfolio">PORTFOLIO</a>
        <a href="trainer.html" class="menu-link hover-target" onclick="toggleMenu()" data-lang="menu_trainer">TRAINER</a>
        <a href="contact.html" class="menu-link hover-target" onclick="toggleMenu()" data-lang="menu_contact">CONTACT</a>
    </div>

    <nav>
        <div class="nav-inner">
            <a href="index.html" class="logo">THE FULL PICTURE</a>
            
            <div style="display: flex; align-items: center; gap: 2.5rem;">
                <div class="lang-switch" onclick="toggleLanguage()" style="cursor: pointer; font-weight: 700; font-family: 'Montserrat'; font-size: 0.8rem; letter-spacing: 1px; color: white; display: flex; align-items: center; transition: opacity 0.3s;">
                    <span id="lang-btn-text">EN / 中文</span>
                </div>

                <div class="menu-trigger" onclick="toggleMenu()">
                    <span class="menu-text" data-lang="menu_trigger">MENU</span>
                    <div class="burger">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <section class="hero">
        <div class="container">
            <h1 class="hero-title" style="color: var(--gold);" data-lang="hero_title">ANCIENT WISDOM<br>MODERN STRATEGY</h1>
            <p class="hero-desc" data-lang="hero_desc">
                Gain absolute clarity and master your decision with a proven Ancient Chinese Metaphysics System.
            </p>
            <div class="btn-group">
                <a href="#contact" class="btn btn-primary" data-lang="btn_clarity">Get Clarity</a>
                <a href="about.html" class="btn btn-outline" data-lang="btn_about">About TFP</a>
            </div>
        </div>
    </section>

    <section class="philosophy-section">
        <div class="container scroll-reveal">
            <h2 style="font-size: 2.5rem; margin-bottom: 1.5rem; font-weight: 800;" data-lang="philo_title">Absolute Clarity + Actionable Strategy = <br><span style="color: var(--gold);">A Transformed Life</span></h2>
            <p style="font-size: 1.8rem; line-height: 1.8; color: #ddd; max-width: 800px; margin: 0 auto; font-family: 'Playfair Display';" data-lang="philo_desc">
                We believe the universal energy wants the best for you. Absolute clarity is just the beginning; it's <strong><u>HOW</u></strong> and <strong><u>WHEN</u></strong> to take strategic actions for a transformed life.
            </p>
        </div>
    </section>

    <section class="atlas-section">
        <div class="container scroll-reveal">
            <span class="light-mode-tag" data-lang="atlas_tag">YOUR MAP</span>
            <h2 class="light-mode-heading" style="font-size: 4rem; margin-bottom: 1rem; color: var(--gold); text-shadow: 0 10px 30px rgba(0,0,0,0.8);" data-lang="atlas_title">Crafting Your Life's Atlas</h2>
            
            <div class="atlas-visual" id="lifeAtlas">
                <svg class="atlas-svg-layer">
                    <path id="atlasPathLine" class="atlas-path" d="" />
                </svg>
                <div class="atlas-coords">COORD: WAITING...</div>
            </div>

            <p class="light-mode-p" data-lang="atlas_desc">
                Cutting the fluff, you’ll gain a personalised life’s map. Life’s already not easy, let us help you to achieve that important, <span style="border-bottom: 3px solid var(--burgundy); color: black; font-weight: 700;">transformative shift!</span>
            </p>
            <br><br>
            <a href="#contact" class="btn btn-primary" style="background: var(--burgundy); border-color: var(--burgundy); color: white;" data-lang="btn_book">Book a Call</a>
        </div>
    </section>

    <div class="container split-section">
        <div class="split-grid">
            
            <div class="sticky-col">
                <span class="light-mode-tag" data-lang="role_tag">PRINCIPAL CONSULTANT</span>
                <h2 class="sticky-name">JOSE HE<br><span style="color: var(--burgundy);">(何德伟)</span></h2>
                <div class="img-frame">
                    <img src="https://images.unsplash.com/photo-1599827845838-344449d01247?q=80&w=2000" id="img-1" class="active" alt="Origins">
                    <img src="https://images.unsplash.com/photo-1454165804606-c3d57bc86b40?q=80&w=2070" id="img-2" alt="Crisis">
                    <img src="https://images.unsplash.com/photo-1507679799987-c73779587ccf?q=80&w=2071" id="img-3" alt="Jose He">
                </div>
            </div>

            <div class="scroll-col">
                
                <div class="story-block" data-img="img-1">
                    <span class="light-mode-tag" data-lang="story1_tag">THE ORIGINS</span>
                    <h3 class="story-head" data-lang="story1_title">A Reluctant Beginning</h3>
                    <p class="story-text" data-lang="story1_desc">
                        Growing up in a family of geomancy practitioners, Jose was exposed to ancient metaphysical wisdom from a young age. Despite this early exposure, he was initially reluctant to practise the discipline, believing it to be largely psychological in nature rather than a practical tool.
                    </p>
                </div>

                <div class="story-block" data-img="img-2">
                    <span class="light-mode-tag" data-lang="story2_tag">THE TURNING POINT</span>
                    <h3 class="story-head" data-lang="story2_title">At Age 26</h3>
                    <p class="story-text" data-lang="story2_desc">
                        Jose experienced the most challenging period of his life—facing over <strong>half a million dollars in debt</strong>, the breakdown of a long-term relationship, and the loss of his home. During this time, his family guided him through the structured application of Chinese metaphysical principles to reassess his direction.
                    </p>
                </div>

                <div class="story-block" data-img="img-3">
                    <span class="light-mode-tag" data-lang="story3_tag">THE MISSION</span>
                    <h3 class="story-head" data-lang="story3_title">The Full Picture</h3>
                    <p class="story-text" data-lang="story3_desc">
                        Within two years, he successfully cleared his debts and rebuilt stability. Recognising the tangible impact of these time-tested systems, Jose founded <strong>The Full Picture</strong> with a clear mission: to provide clarity, alignment, and actionable strategies that empower individuals to create meaningful, sustainable transformation.
                    </p>
                    <br>
                    <a href="trainer.html" class="btn btn-light-mode" data-lang="btn_full_path">Jose's Full Path</a>
                </div>

            </div>
        </div>
    </div>

    <section class="help-section">
        <div class="container scroll-reveal">
            <span class="light-mode-tag" data-lang="help_tag">WE'RE HERE TO HELP</span>
            <h2 class="help-title" data-lang="help_title">Confused? Don't be.</h2>
            <p style="font-size: 1.5rem; max-width: 800px; margin: 0 auto 3rem; color: #222; line-height: 1.5;" data-lang="help_desc">
                Reach out to us and let us help you gain absolute clarity in your next transformative step in life or your business!
            </p>
            <a href="contact.html" class="btn btn-light-mode" style="padding: 1.5rem 4rem;" data-lang="btn_msg">Message Us</a>
        </div>
    </section>

    <div class="container reviews-section">
        <div class="reviews-grid">
            <div class="review-card">
                <p class="review-text" data-lang="review1">"Jose provided the clarity I needed to pivot my business during a crisis. The strategy was spot on."</p>
                <span class="review-author" data-lang="review1_author">— CEO, Fintech SG</span>
            </div>
            <div class="review-card">
                <p class="review-text" data-lang="review2">"I was skeptical at first, but the Bazi reading explained patterns in my life I couldn't see myself."</p>
                <span class="review-author" data-lang="review2_author">— Sarah L., Entrepreneur</span>
            </div>
            <div class="review-card">
                <p class="review-text" data-lang="review3">"Truly the 'Full Picture'. Practical advice backed by deep wisdom."</p>
                <span class="review-author" data-lang="review3_author">— Director, MNC</span>
            </div>
        </div>
    </div>

    <footer>
        <div class="container">
            <span class="footer-logo">THE FULL PICTURE</span>
            <p class="footer-copy">&copy; 2025 THE FULL PICTURE LLP.</p>
        </div>
    </footer>

    <script>
        // MENU
        let menuOpen = false;
        function toggleMenu() {
            const overlay = document.getElementById('menuOverlay');
            const trigger = document.querySelector('.menu-trigger');
            const menuText = document.querySelector('.menu-text');
            
            menuOpen = !menuOpen;
            
            if(menuOpen) { 
                overlay.classList.add('active'); 
                trigger.classList.add('active');
                if(menuText) menuText.textContent = "CLOSE"; 
            } else { 
                overlay.classList.remove('active'); 
                trigger.classList.remove('active');
                if(menuText) menuText.textContent = "MENU"; 
            }
        }

        // --- LIFE ATLAS ANIMATION ENGINE ---
        const atlasContainer = document.getElementById('lifeAtlas');
        const atlasPathLine = document.getElementById('atlasPathLine');
        const coordsDisplay = document.querySelector('.atlas-coords');

        // Scenarios: Different paths for different people
        const scenarios = [
            {
                name: "The Entrepreneur's Pivot",
                points: [
                    { x: 10, y: 80 }, // Start
                    { x: 30, y: 60 }, 
                    { x: 50, y: 70 }, // Dip
                    { x: 70, y: 30 }, // Rise
                    { x: 90, y: 20 }  // Success
                ],
                finalCard: {
                    title: "Strategic Pivot",
                    desc: "Realigned business model with Bazi favorable elements. Revenue tripled in Q3."
                }
            },
            {
                name: "The Executive's Climb",
                points: [
                    { x: 10, y: 50 }, 
                    { x: 40, y: 50 }, 
                    { x: 60, y: 30 }, 
                    { x: 85, y: 15 }  
                ],
                finalCard: {
                    title: "Authority Activation",
                    desc: "Leveraged Qi Men Dun Jia for negotiation. Secured C-Suite position."
                }
            },
            {
                name: "The Harmony Seeker",
                points: [
                    { x: 20, y: 20 }, 
                    { x: 40, y: 60 }, 
                    { x: 60, y: 65 }, 
                    { x: 80, y: 50 }  
                ],
                finalCard: {
                    title: "Home & Harmony",
                    desc: "Feng Shui audit cleared stagnant energy. Relationship and health restored."
                }
            }
        ];

        let currentScenarioIndex = 0;

        function playAtlasAnimation() {
            // 1. CLEAR
            const oldElements = atlasContainer.querySelectorAll('.atlas-node, .atlas-card');
            oldElements.forEach(el => el.remove());
            
            atlasPathLine.style.transition = 'none';
            atlasPathLine.style.strokeDashoffset = '1000';
            atlasPathLine.setAttribute('d', '');

            // 2. GET CURRENT DATA
            const scenario = scenarios[currentScenarioIndex];
            const width = atlasContainer.offsetWidth;
            const height = atlasContainer.offsetHeight;

            // 3. BUILD PATH
            let pathD = `M ${scenario.points[0].x / 100 * width} ${scenario.points[0].y / 100 * height}`;
            scenario.points.forEach((p, i) => {
                if (i === 0) return;
                pathD += ` L ${p.x / 100 * width} ${p.y / 100 * height}`;
            });
            atlasPathLine.setAttribute('d', pathD);

            // 4. ANIMATE NODES
            let delay = 0;
            scenario.points.forEach((p, i) => {
                setTimeout(() => {
                    const node = document.createElement('div');
                    node.classList.add('atlas-node');
                    node.style.left = `${p.x}%`;
                    node.style.top = `${p.y}%`;
                    if (i === scenario.points.length - 1) node.classList.add('pulse');
                    atlasContainer.appendChild(node);
                    
                    requestAnimationFrame(() => node.classList.add('active'));
                    coordsDisplay.innerText = `COORD: X${p.x.toFixed(2)} | Y${p.y.toFixed(2)}`;

                }, delay);
                delay += 600; 
            });

            // DRAW LINE
            setTimeout(() => {
                atlasPathLine.style.transition = `stroke-dashoffset ${scenario.points.length * 0.5}s linear`;
                atlasPathLine.style.strokeDashoffset = '0';
            }, 100);

            // 5. SHOW CARD
            setTimeout(() => {
                const lastPoint = scenario.points[scenario.points.length - 1];
                const card = document.createElement('div');
                card.classList.add('atlas-card');
                
                // Reposition logic to keep card inside bounds
                let leftPos = lastPoint.x;
                if(leftPos > 60) leftPos -= 25; 
                else leftPos += 2;

                let topPos = lastPoint.y;
                if(topPos > 60) topPos -= 25; 
                
                card.style.left = `${leftPos}%`;
                card.style.top = `${topPos}%`;

                card.innerHTML = `
                    <h4>${scenario.name}</h4>
                    <h3>${scenario.finalCard.title}</h3>
                    <p>${scenario.finalCard.desc}</p>
                `;
                
                atlasContainer.appendChild(card);
                requestAnimationFrame(() => card.classList.add('visible'));

            }, delay + 200);

            // 6. LOOP
            setTimeout(() => {
                currentScenarioIndex = (currentScenarioIndex + 1) % scenarios.length;
                playAtlasAnimation();
            }, delay + 4000); 
        }

        const atlasObserver = new IntersectionObserver((entries) => {
            if(entries[0].isIntersecting) {
                playAtlasAnimation();
                atlasObserver.disconnect();
            }
        }, { threshold: 0.5 });
        atlasObserver.observe(atlasContainer);


        // --- TUNNEL ZOOM LOGIC (BEAM EFFECT) ---
        const light = document.getElementById('tunnelLight');
        
        window.addEventListener('scroll', () => {
            const scrolled = window.scrollY;
            const height = document.body.scrollHeight - window.innerHeight;
            const fraction = scrolled / height;
            
            // ZOOM: Starts at 0.2 (Distant) -> Grows to 8.0 (Screen Filled)
            const scale = 0.2 + (fraction * 3); 
            
            // OPACITY
            let opacity = 0.2 + (fraction * 1); 
            opacity = Math.min(opacity, 1); 

            light.style.transform = `translate(-50%, -50%) scale(${scale})`;
            light.style.opacity = opacity;
        });

        // --- STICKY IMAGE SWAPPER ---
        const storyBlocks = document.querySelectorAll('.story-block');
        const images = document.querySelectorAll('.img-frame img');

        const storyObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    storyBlocks.forEach(b => b.classList.remove('active'));
                    entry.target.classList.add('active');
                    const targetId = entry.target.getAttribute('data-img');
                    images.forEach(img => img.classList.remove('active'));
                    const activeImg = document.getElementById(targetId);
                    if(activeImg) activeImg.classList.add('active');
                }
            });
        }, { threshold: 0.2 }); 

        storyBlocks.forEach(block => storyObserver.observe(block));

        // --- REVEAL ---
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = 1;
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.scroll-reveal').forEach(el => {
            el.style.opacity = 0; el.style.transform = 'translateY(30px)'; el.style.transition = 'all 0.8s ease';
            revealObserver.observe(el);
        });

        // --- TRANSLATION DICTIONARY ---
        const translations = {
            "en": {
                "menu_home": "HOME", "menu_about": "ABOUT", "menu_services": "SERVICES",
                "menu_mission": "MISSION", "menu_portfolio": "PORTFOLIO", "menu_trainer": "TRAINER", "menu_contact": "CONTACT", "menu_trigger": "MENU",
                "hero_title": "ANCIENT WISDOM<br>MODERN STRATEGY",
                "hero_desc": "Gain absolute clarity and master your decision with a proven Ancient Chinese Metaphysics System.",
                "btn_clarity": "Get Clarity", "btn_about": "About TFP",
                "philo_title": "Absolute Clarity + Actionable Strategy = <br><span style='color: var(--gold);'>A Transformed Life</span>",
                "philo_desc": "We believe the universal energy wants the best for you. Absolute clarity is just the beginning; it's <strong><u>HOW</u></strong> and <strong><u>WHEN</u></strong> to take strategic actions for a transformed life.",
                "atlas_tag": "YOUR MAP", "atlas_title": "Crafting Your Life's Atlas",
                "atlas_desc": "Cutting the fluff, you’ll gain a personalised life’s map. Life’s already not easy, let us help you to achieve that important, <span style='border-bottom: 3px solid var(--burgundy); color: black; font-weight: 700;'>transformative shift!</span>",
                "btn_book": "Book a Call", "role_tag": "PRINCIPAL CONSULTANT",
                "story1_tag": "THE ORIGINS", "story1_title": "A Reluctant Beginning",
                "story1_desc": "Growing up in a family of geomancy practitioners, Jose was exposed to ancient metaphysical wisdom from a young age. Despite this early exposure, he was initially reluctant to practise the discipline, believing it to be largely psychological in nature rather than a practical tool.",
                "story2_tag": "THE TURNING POINT", "story2_title": "At Age 26",
                "story2_desc": "Jose experienced the most challenging period of his life—facing over <strong>half a million dollars in debt</strong>, the breakdown of a long-term relationship, and the loss of his home. During this time, his family guided him through the structured application of Chinese metaphysical principles to reassess his direction.",
                "story3_tag": "THE MISSION", "story3_title": "The Full Picture",
                "story3_desc": "Within two years, he successfully cleared his debts and rebuilt stability. Recognising the tangible impact of these time-tested systems, Jose founded <strong>The Full Picture</strong> with a clear mission: to provide clarity, alignment, and actionable strategies that empower individuals to create meaningful, sustainable transformation.",
                "btn_full_path": "Jose's Full Path",
                "help_tag": "WE'RE HERE TO HELP", "help_title": "Confused? Don't be.",
                "help_desc": "Reach out to us and let us help you gain absolute clarity in your next transformative step in life or your business!",
                "btn_msg": "Message Us",
                "review1": "\"Jose provided the clarity I needed to pivot my business during a crisis. The strategy was spot on.\"",
                "review1_author": "— CEO, Fintech SG",
                "review2": "\"I was skeptical at first, but the Bazi reading explained patterns in my life I couldn't see myself.\"",
                "review2_author": "— Sarah L., Entrepreneur",
                "review3": "\"Truly the 'Full Picture'. Practical advice backed by deep wisdom.\"",
                "review3_author": "— Director, MNC"
            },
            "cn": {
                "menu_home": "首页", "menu_about": "关于我们", "menu_services": "服务项目",
                "menu_mission": "使命愿景", "menu_portfolio": "过往案例", "menu_trainer": "导师介绍", "menu_contact": "联系我们", "menu_trigger": "菜单",
                "hero_title": "古老智慧<br>现代策略",
                "hero_desc": "通过经过验证的中国古代玄学系统，获得绝对的清晰度并掌控您的决策。",
                "btn_clarity": "获得清晰", "btn_about": "关于 TFP",
                "philo_title": "绝对清晰 + 可行策略 = <br><span style='color: var(--gold);'>焕然一新的人生</span>",
                "philo_desc": "我们相信宇宙能量希望给您最好的。绝对清晰只是开始；关键在于<strong><u>如何</u></strong>以及<strong><u>何时</u></strong>采取战略行动来实现人生的蜕变。",
                "atlas_tag": "您的人生蓝图", "atlas_title": "打造您的人生版图",
                "atlas_desc": "去繁就简，您将获得一份个性化的人生蓝图。生活本不易，让我们助您实现那至关重要的<span style='border-bottom: 3px solid var(--burgundy); color: black; font-weight: 700;'>蜕变！</span>",
                "btn_book": "预约咨询", "role_tag": "首席顾问",
                "story1_tag": "缘起", "story1_title": "不情愿的开始",
                "story1_desc": "成长于风水世家，Jose 从小就接触古代玄学智慧。尽管耳濡目染，但他最初并不愿从事这一学科，认为这主要是心理作用，而非实用的工具。",
                "story2_tag": "转折点", "story2_title": "26岁时",
                "story2_desc": "Jose 经历了人生中最艰难的时期——背负<strong>超过50万的债务</strong>，长期感情破裂，失去住所。在这段时间里，家人引导他运用中国玄学原理重新评估人生方向。",
                "story3_tag": "使命", "story3_title": "全景图 (The Full Picture)",
                "story3_desc": "两年内，他成功还清债务并重建了生活的稳定。认识到这些经得起时间考验的系统的切实影响，Jose 创立了 <strong>The Full Picture</strong>，使命明确：提供清晰、协调和可行的策略，赋能个人创造有意义且可持续的转变。",
                "btn_full_path": "Jose的完整历程",
                "help_tag": "我们要来协助您", "help_title": "感到困惑？别担心。",
                "help_desc": "联系我们，让我们帮助您在生活或事业的下一个变革步骤中获得绝对的清晰！",
                "btn_msg": "发消息给我们",
                "review1": "“Jose 提供了我在危机期间转型业务所需的清晰度。策略非常精准。”",
                "review1_author": "— CEO, 金融科技 (新加坡)",
                "review2": "“起初我很怀疑，但八字解读解释了我自己看不见的生活模式。”",
                "review2_author": "— Sarah L., 企业家",
                "review3": "“名副其实的‘全景图’。深厚智慧支持的实用建议。”",
                "review3_author": "— 跨国公司总监"
            }
        };

        let currentLang = localStorage.getItem('tfp_lang') || 'en';

        function updateContent() {
            const elements = document.querySelectorAll('[data-lang]');
            elements.forEach(el => {
                const key = el.getAttribute('data-lang');
                if (translations[currentLang] && translations[currentLang][key]) {
                    el.innerHTML = translations[currentLang][key];
                }
            });
            document.getElementById('lang-btn-text').innerText = currentLang === 'en' ? 'EN / 中文' : 'English / CN';
        }

        function toggleLanguage() {
            // 1. Fade Out
            document.body.classList.add('lang-fading');

            // 2. Wait for Fade, then Swap
            setTimeout(() => {
                currentLang = currentLang === 'en' ? 'cn' : 'en';
                localStorage.setItem('tfp_lang', currentLang);
                updateContent();
                
                // 3. Fade In
                document.body.classList.remove('lang-fading');
            }, 300); // 300ms matches the CSS transition time
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', updateContent);
    </script>
</body>
</html>